---
layout: single
title: 브라우저의 작동 원리 (보이지 않는 곳)
tags: [HTTP, network, browser]
categories: HTTP/network
---

<br />

## **학습 목표**

- 브라우저의 작동 원리를 이해할 수 있다.
- 보이지 않는 곳의 통신을 이해할 수 있다.
- URL과 URI의 차이를 이해할 수 있다.
- IP 주소와 PORT에 대해 이해할 수 있다.
- DNS와 IP 주소의 관계를 설명할 수 있다.
- 크롬 브라우저의 에러 메시지를 통해 문제를 파악할 수 있다.

---



# URL과 URI

브라우저의 주소창에 입력한 URL은 서버가 제공되는 환경에 존재하는 파일의 위치를 나타낸다. 

예를 들어 `[https://codestates.com:443/](https://codestates.com:443/)` 사이트에 접속하게 되면, codestates.com 주소가 가리키는 서버의 기본 폴더를 뜻한다. CLI 환경에서 폴더와 파일의 위치를 찾아 이동하듯이, 슬래시(`/`)를 사용해 서버의 폴더에 진입하거나 파일을 요청할 수 있다.

그러나 기본적인 보안의 일환으로 외부에서 직접 접근이 가능한 경우는 거의 없다.

![001](/images/2022-12-01-browser-1/001.png)

## URL

**URL**은 **Uniform Resource Locator**의 줄임말로, 네트워크 상에서 웹 페이지, 이미지, 동영상 등의 파일이 위치한 정보를 나타낸다.

URL은 `scheme`, `hosts`, `url-path`로 구분할 수 있다. 

- 가장 먼저 작성하는 `scheme` 은 통신 방식(프로토콜)을 결정한다. 일반적인 웹 브라우저에서는 http(s)를 사용한다.
- `hosts` 는 웹 서버의 이름이나 도메인, IP를 사용하며 주소를 나타낸다.
- `url-path` 는 웹 서버에서 지정한 루트 디렉토리부터 시작하여 웹 페이지, 이미지, 동영상 등이 위치한 경로와 파일명을 나타낸다.

## URI

**URI**는 **Uniform Resource Identifier**의 줄임말로, 일반적인 URL의 기본 요소인 `scheme`, `hosts`, `url-path` 에 더해 `query`, `fragment` 를 포함한다.

- `query` 는 웹 서버에 보내는 추가적인 질문이다.
위 그림의 `http://www.google.com:80/search?q=JavaScript` 를 브라우저의 검색창에 입력하면, 구글에서 JavaScript를 검색한 결과가 나타난다.
- `fragment` 는 일종의 북마크 기능을 수행하며 URL에 fragment(`#`)와 특정 HTML 요소의 id를 전달하면 해당 요소가 있는 곳으로 스크롤을 이동할 수 있다.

브라우저의 검색창을 클릭하면 나타나는 주소가 URI이다. URI는 URL을 포함하는 상위 개념이다. 

따라서 ‘URL은 URI이다.’는 참이고, 역은 거짓이다.

| 부분 | 명칭 | 설명 |
| --- | --- | --- |
| file://, http://, https:// | scheme | 통신 프로토콜 |
| 127.0.0.1, www.google.com | hosts | 웹 페이지, 이미지, 동영상 등의 파일이 위치한 웹 서버, 도메인 또는 IP |
| :80, :443, :3000 | port | 웹 서버에 접속하기 위한 통로 |
| /search, Users/username/Desktop | url-path | 웹 서버의 루트 디렉토리부터 웹 페이지, 이미지, 동영상 등의 파일이 위치까지의 경로 |
| q=JavaScript | query | 웹 서버에 전달하는 추가 질문 |
- `port` 는 서버로 진입할 수 있는 통로이다.

---



# IP와 포트

## ☑️ IP address

- 네트워크에 연결된 특정 PC의 주소를 나타내는 체계를 **IP address(Internet Protocol address, IP 주소)**라고 한다.

### IPv4

공유기를 설치하고 비밀번호를 설정하려면, 공유기 관리 페이지에 접속해야 한다, 웹 브라우저에 닷(`.`)으로 구분된 네 덩이의 숫자를 입력하면, 공유기의 관리 페이지로 접속할 수 있다. 이때 사용되는 네 덩이의 숫자를 IP 주소라고 한다.

IP는 Internet Protocol의 줄임말로, 인터넷 상에서 사용하는 주소체계를 의미한다. 인터넷에 연결된 모든 PC는 IP 주소체계를 따라 네 덩이의 숫자로 구분된다. 이렇게 네 덩이의 숫자로 구분된 IP 주소체계를 **IPv4**라고 한다. 

- **IPv4** 는 **Internet Protocol version 4**의 줄임말로, IP 주소체계의 네 번째 버전을 의미한다.

IPv4는 각 덩어리마다 0부터 255까지 나타낼 수 있다. 따라서 2^(32)인 약 43억개의 IP 주소를 표현할 수 있다. 그 중에서 몇 가지는 이미 용도가 정해져 있는데, 다음과 같은 IP 주소는 기억해야 한다.

- `localhost`, `127.0.0.1` : 현재 사용 중인 로컬 PC를 지칭한다.
- `0.0.0.0`, `255.255.255.255` : broadcast address, 로컬 네트워크에 접속된 모든 장치와 소통하는 주소이다. 서버에서 접근 가능 IP 주소를 broadcast address로 지정하면, 모든 기기에서 서버에 접근할 수 있다.

## IPv6

인터넷 보급률이 낮았던 초기에는 IPv4로 네트워크에 연결된 PC에 주소를 할당하는 일이 가능했다. 그러나 개인 PC의 보급으로 전 세계의 누구나 PC를 이용해 인터넷에 접속하고, 각종 서비스를 위해 서버를 생산하며 IPv4로 할당할 수 이는 PC가 한계를 넘어서게 되었다. 이를 위해 세상에 나오게 된 것이 **IPv6**이다. IPv6는 표기법을 달리 책정하여 2^(128)개의 IP 주소를 표현할 수 있다.

## ☑️ PORT

![002](/images/2022-12-01-browser-1/002.png)



터미널에서 리액트를 실행하면 나타나는 화면에는, 로컬PC의 주소인 `127.0.0.1` 뒤에 `:3000` 과 같은 숫자가 표현된다. 이 숫자는 IP 주소가 가리키는 PC에 접속할 수 있는 통로(채널)를 의미한다. 이미 사용 중인 포트는 중복해서 사용할 수 없다. 만약 다른 프로그램에서 3000번 포트를 사용 중이라면, 위와 같이 다른 포트 번호(3001)로 리액트가 실행된다.

포트 번호는 0~65535 까지 사용할 수 있다. 그중에서 0~1024번 까지의 포트 번호는 주요 통신을 위한 규약에 따라 이미 정해져 있다. 반드시 알아야 할 **잘 알려진 포트 번호**는 다음과 같다.

- 22 : SSH
- 80 : HTTP
- 443 : HTTPS

이미 정해진 포트 번호라도, 필요에 따라 자유롭게 사용할 수 있다. HTTP(`:80`), HTTPS(`:443`)과 같이 잘 알려진 포트의 경우, `[https://codestates.com:443](https://codestates.com:443)` 이 아닌 `[https://codestate.com](https://codestate.com)` 처럼 포트 번호를 URI에 생략할 수 있지만, 그 외의 잘 알려지지 않은 번호 (3000과 같은 임시 포트)는 반드시 포트 번호를 포함해야 한다.

---



# 도메인과 DNS

## Domain name

웹 브라우저를 통해 특정 사이트에 진입을 할 때, IP 주소를 대신해야 사용하는 주소가 있다. 만약 IP 주소가 지번 또는 도로명 주소라면, 도메인 이름은 해당 주소에 위치한 상호로 볼 수 있다.

도메인 이름을 이용하면, 한눈에 파악하기 힘든 IP 주소를 보다 간단하게 나타낼 수 있다.

## DNS

네트워크 상에 존재하는 모든 PC는 IP 주소가 있지만, 모든 IP 주소가 도메인 이름을 가지는 것은 아니다. 로컬 PC를 나타내는 `127.0.0.1` 은 `[localhost](http://localhost)` 로 사용할 수 있지만, 그 외의 모든 도메인 이름은 일정 기간동안 대여하여 사용한다. 

브라우저의 검색창에 도메인 이름을 입력하여 해당 사이트로 이동하기 위해서는 해당 도메인 이름과 매칭된 IP 주소를 확인하는 작업이 반드시 필요하다. 네트워크에는 이것을 위한 서버가 별도로 있는데 이를 **DNS(Domain Name System)**라고 한다.



![003](/images/2022-12-01-browser-1/003.png)



DNS는 호스트의 도메인 이름을 IP 주소로 변환하거나 반대의 경우를 수행할 수 있도록 개발된 데이터베이스 시스템이다. 만약 브라우저의 검색창에 `[naver.com](http://naver.com)` 을 입력한다면, 이 요청은 DNS에서 IP 주소(ex. 125.209.222.142)를 찾고 이 IP 주소에 해당하는 웹 서버로 요청을 전달하여 클라이언트와 웹 서버가 통신할 수 있도록 한다.